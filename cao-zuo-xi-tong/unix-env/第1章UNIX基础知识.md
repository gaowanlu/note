---
coverY: 0
---

# 第1章 UNIX基础知识

## UNIX基础知识

* UNIX体系结构:应用程序、shell、公用函数库、内核、系统调用之间的层级关系  
* 登录: 类UNIX系统的登录  
* shell: shell类型  
* 文件和目录: 文件系统根目录、文件名、路径名相对路径绝对路径、opendir、struct dirent读取文件夹下的内容  
* 工作目录：每个进程都有一个工作目录、也称当前工作目录、使用chdir函数可以修改其工作目录  
* 文件描述符：内核对与某个进程打开文件的标识、文件描述符是进程范围的不是系统范围的  
* 标准输入、标准输出、标准错误、输出重定向与输入重定向的使用  
* 不带缓冲的I/O: open、read、write、lseek、close提供了不带缓冲的I/O  
* 标准输入和输出的文件描述符：STDIN_FILENO、STDOUT_FILENO定义在头文件unistd.h  
* 标准IO：stdin、stdout定义在头文件stdio.h  
* 程序和进程：程序是存储在磁盘某个目录中的可执行文件，程序的执行实例被称为进程、每个进程有唯一标识PID，进程ID，使用getpid函数可以获取  
* 进程控制函数：fork、exec、waitpid最为常用  
* 线程和线程ID：一个进程内的所有进程共享同一地址空间、文件描述符、栈以及进程相关的属性  
* 出错处理：errno变量、多个线程共享进程地址空间、每个线程都有属于自己局部的errno  
* perror函数基于errno的当前值，在标准错误上产生一条信息并输出  
* 出错恢复，errno.h将错误定义为两种，致命性的和非致命性的。非致命性可以进行处理等、致命性的则会直接进程挂掉  
* 用户标识：用户ID、组ID、一个用户可以关联多个组  
* 信号：处理方式有三种，忽略信号、按系统默认方式处理、提供一个函数，使用signal函数对响应的信号值绑定回调函数  
* 时间值：UTC日历使用从1970 1 1秒数，进程时间也称CPU时间，以滴答计算  
* 系统调用和库函数关系：printf并不是内核入口点，printf的实现内部使用了系统调用，他只是C的标准库函数API。例如strcpy、atoi并不使用内核的系统调用  
* 用户程序使用malloc，malloc内部使用sbrk系统调用进入内核态完成工作  
* 用户程序可以直接使用系统调用、也可以使用C库函数  
